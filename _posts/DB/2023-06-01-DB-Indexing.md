---
title: "[DB]μΈλ±μ‹±"
excerpt: "μΈλ±μ‹±"

categories:
  - DB
tags:
  - [λ°μ΄ν„°λ² μ΄μ¤, μΈλ±μ‹±]

toc: true
toc_sticky: true

date: 2023-06-01
---

## π“μΈλ±μ‹±μ μ΄ν•΄ 

* **μΈλ±μ¤μ κ°λ…**
<br>
μΈλ±μ‹±μ€ λ°μ΄ν„° κ²€μƒ‰μ—μ„ λ°μƒν•λ” λΉ„ν¨μ¨μ μΈ λ°μ΄ν„° μ…μ¶λ ¥ λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν• λ©μ μΌλ΅ μ μ•λμ—μµλ‹λ‹¤.
<br>
μΈλ±μ¤λ” μ±…λ“¤μ λ§μ§€λ§‰ λ¶€λ¶„μ— μλ” μƒ‰μΈκ³Ό κ°™μµλ‹λ‹¤. μƒ‰μΈμ€ μ±…μ λ‚΄μ© μ¤‘ μ¤‘μ”ν• λ‚΄μ©μ΄λ‚ λ‹¨μ–΄ λ“±μ„ λ½‘μ•„ λ³Έλ¬Έ λ‡ νμ΄μ§€μ— μλ”μ§€ μ‰½κ² μ°Ύμ•„λ³Ό μ μλ„λ΅ ν• νμ΄μ§€μ…λ‹λ‹¤.
<br>
DBMSμ μΈλ±μ¤λ„ μ΄μ™€ κ°™μ€ μ—­ν• μ„ ν•©λ‹λ‹¤. μΈλ±μ¤λ” νƒμƒ‰ν‚¤λ¥Ό μ΄μ©ν•μ—¬ ν•΄λ‹Ή λ μ½”λ“κ°€ μ €μ¥λ λΈ”λ­μ„ λ””μ¤ν¬ μ €μ¥μ¥μΉ λλ” λ©”λ¨λ¦¬μ—μ„ νμ•…ν•μ—¬ ν•΄λ‹Ή λΈ”λ­μ„ λΉ λ¥΄κ² μ μ¬μ‹ν‚¤κΈ° μ„ν• λ³΄μ΅°μ μΈ λ„κµ¬μ…λ‹λ‹¤.



π’΅νƒμƒ‰ν‚¤: νμΌμ—μ„ λ μ½”λ“λ¥Ό μ°Ύλ”λ° μ‚¬μ©λλ” μ»¬λΌμ΄λ‚ μ»¬λΌμ μ§‘ν•©

  - μΈλ±μ¤: DBMSμ—μ„ μ”μ²­λ λ μ½”λ“μ— λΉ λ¥΄κ² μ ‘κ·Όν•  μ μλ„λ΅ λ°μ΄ν„°μ™€ κ΄€λ ¨λ λ¶€κ°€μ μΈ κµ¬μ΅°μ…λ‹λ‹¤.
  - μΈλ±μ‹±: μΈλ±μ¤λ¥Ό κµ¬μ„±ν•κ³  μƒμ„±ν•λ” μ‘μ—…μ…λ‹λ‹¤.

<br>

* **μΈλ±μ¤ κΈ°λ°μ κ²€μƒ‰ κ³Όμ •**
<br>
DBMSλ” μ‹¤μ  λ μ½”λ“λ¥Ό λ©”λ¨λ¦¬μ— μ¬λ¦¬λ” κ²ƒμ΄ μ•„λ‹λΌ μΈλ±μ¤ λΈ”λ­λ“¤μ„ λ©”λ¨λ¦¬μ— μ¬λ ¤μ„ λ μ½”λ“κ°€ λ””μ¤ν¬ λλ” λ©”μΈ λ©”λ¨λ¦¬μ μ–΄λ λΈ”λ­μ— μ €μ¥λμ–΄ μλ”μ§€ νμ•…ν•κ³  ν•΄λ‹Ή λΈ”λ­μ„ μ½μ–΄ λ“¤μ—¬ λ μ½”λ“μ— μ ‘κ·Όν•©λ‹λ‹¤.

![SearchingIndex](\assets\images\DB\SearchingIndex.png){: width="400" height="400"}

<br>

λ°μ΄ν„°λ² μ΄μ¤μ—μ„ μΈλ±μ¤μ μ©λ„λ΅ λ¨λ“  λ μ½”λ“μ μ •λ³΄λ¥Ό μ •λ ¬ν•μ—¬ λ¦¬μ¤νΈλ΅ κ΄€λ¦¬ν•λ” κ²½μ° μΈλ±μ¤ ν¬κΈ°κ°€ λΉ„λ€ν•΄μ§€κΈ° λ•λ¬Έμ— μΈλ±μ¤ νƒμƒ‰ λΉ„μ©μ΄ λμ–΄λ‚κ² λ©λ‹λ‹¤. λ”°λΌμ„ ν¨μ¨μ„±μ„ ν–¥μƒμ‹ν‚¨ μ—¬λ¬ μΆ…λ¥μ μΈλ±μ¤ κµ¬μ΅°λ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ”λ° μΈλ±μ¤μ μΆ…λ¥λ” μ•„λμ™€ κ°™μ΄ ν¬κ² λ‘ κ°€μ§€λ΅ λ‚λ‰©λ‹λ‹¤.

* **μΈλ±μ¤μ μΆ…λ¥**

  - μμ„ μΈλ±μ¤: νΉμ • κ°’μ— λ€ν•΄ μ •λ ¬λ μμ„ κµ¬μ΅°
  - ν•΄μ‹ μΈλ±μ¤: λ²„ν‚·μ λ²”μ„μ•μ—μ„ κ°’μ κ· μΌν• λ¶„ν¬μ— κΈ°μ΄ν• κµ¬μ΅°λ΅ ν•¨μκ°€ μ–΄λ–¤ κ°’μ΄ μ–΄λ λ²„ν‚·μ— ν• λ‹Ήλλ”μ§€ κ²°μ •

<br>

* **μΈλ±μ¤μ ν‰κ°€κΈ°μ¤€**

  - μ ‘κ·Ό μ‹κ°„: λ°μ΄ν„°λ¥Ό μ°Ύλ”λ° κ±Έλ¦¬λ” μ‹κ°„
  - μ μ§€ λΉ„μ©: μƒλ΅μ΄ λ°μ΄ν„° μ‚½μ… λ° κΈ°μ΅΄ λ°μ΄ν„° μ‚­μ  μ—°μ‚°μΌλ΅ μΈν• μΈλ±μ¤ κµ¬μ΅° κ°±μ‹  λΉ„μ©
  - κ³µκ°„ λΉ„μ©: μΈλ±μ¤ κµ¬μ΅°μ— μν•΄ μ‚¬μ©λλ” λ¶€κ°€μ μΈ κ³µκ°„ λΉ„μ©

<br><br><br>

## π“μμ„ μΈλ±μ¤
μμ„ μΈλ±μ¤λ” κ°€μ¥ κΈ°λ³Έμ μΈ ν•νƒμ μΈλ±μ¤μ…λ‹λ‹¤.

* **μμ„ μΈλ±μ¤μ νΉμ§•**

  - νƒμƒ‰ν‚¤λ΅ μ •λ ¬λ μμ°¨ νμΌμ— λ€ν•μ—¬ λ μ½”λ“μ— λ€ν• λΉ λ¥Έ μ„μ μ ‘κ·Όμ΄ κ°€λ¥ν•λ„λ΅ κµ¬μ„±ν• μΈλ±μ¤μ…λ‹λ‹¤. νƒμƒ‰ν‚¤λ¥Ό μ •λ ¬ν•μ—¬ ν•΄λ‹Ή νƒμƒ‰ν‚¤μ™€ νƒμƒ‰ν‚¤μ— λ€ν• λ μ½”λ“μ™€μ μ—°κ³„λ¥Ό ν†µν•μ—¬ μΈλ±μ¤λ¥Ό μƒμ„±ν•©λ‹λ‹¤.

<br>

* **μμ„ μΈλ±μ¤μ μΆ…λ¥**

  - λ°€μ§‘ μΈλ±μ¤
  - ν¬μ† μΈλ±μ¤
  - λ‹¤λ‹¨κ³„ μΈλ±μ¤

<br>

### π“„λ°€μ§‘κ³Ό ν¬μ† μΈλ±μ¤
* **μΈλ±μ¤ μ—”νΈλ¦¬μ κµ¬μ΅°**
<br>
μΈλ±μ¤ μ—”νΈλ¦¬λ” <νƒμƒ‰ν‚¤κ°’, ν¬μΈν„°> μμΌλ΅ κµ¬μ„±λ©λ‹λ‹¤. ν¬μΈν„°λ” νƒμƒ‰ν‚¤μ— λ€μ‘λλ” λ μ½”λ“μ— λ€ν• ν¬μΈν„°λ΅, λ°μ΄ν„° λ μ½”λ“κ°€ μ €μ¥λμ–΄ μλ” λ””μ¤ν¬ λΈ”λ­μ μ‹λ³„μμ™€ λΈ”λ­ μ•μ—μ„ λ μ½”λ“μ μ„μΉλ¥Ό κ°€λ¦¬ν‚¤λ” μ¤ν”„μ…‹μΌλ΅ κµ¬μ„±λ©λ‹λ‹¤.

![IndexEntry](\assets\images\DB\IndexEntry.png){: width="400" height="400"}

<br>

* **λ°€μ§‘ μΈλ±μ¤**
<br>
λ°€μ§‘ μΈλ±μ¤λ” λ¨λ“  λ μ½”λ“μ— λ€ν•΄ <νƒμƒ‰ν‚¤κ°’, ν¬μΈν„°> μμ„ μ μ§€ν•©λ‹λ‹¤. κ° κ³Όλ© λ μ½”λ“μ κ³Όλ© μ½”λ“μ— λ€ν•΄ μΈλ±μ¤ μ—”νΈλ¦¬κ°€ κµ¬μ„±λμ–΄ μλ” κ²ƒμ„ λ³Ό μ μμµλ‹λ‹¤. λ”°λΌμ„ κ³Όλ© λ μ½”λ“λ¥Ό μ°Ύλ” κ²½μ° λ μ½”λ“λ¥Ό μ§μ ‘ μ°ΎκΈ° λ³΄λ‹¤ ν¬κΈ°κ°€ ν›¨μ”¬ μ‘μ€ λ°€μ§‘ μΈλ±μ¤λ¥Ό λ©”λ¨λ¦¬λ΅ μ½μ–΄ μΈλ±μ¤ μ—”νΈλ¦¬λ¥Ό μ°Ύμ€ ν›„ λ μ½”λ“μ— λ€ν• ν¬μΈν„°λ¥Ό λ”°λΌ μ ‘κ·Όν•μ—¬ λ μ½”λ“λ¥Ό λΉ λ¥΄κ² μ°Ύμµλ‹λ‹¤.
<br><br>
ν•μ§€λ§ λ¨λ“  λ μ½”λ“μ— μμΌλ΅ μΈλ±μ¤ μ—”νΈλ¦¬κ°€ λ€μ‘λκΈ° λ•λ¬Έμ— μΈλ±μ¤μ ν¬κΈ°κ°€ μ»¤μ§€λ” λ‹¨μ μ΄ μμµλ‹λ‹¤.

![DenseIndex](\assets\images\DB\DenseIndex.png){: width="400" height="400"}

<br>

* **ν¬μ† μΈλ±μ¤**
<br>
ν¬μ† μΈλ±μ¤λ” μΈλ±μ¤μ μ—”νΈλ¦¬κ°€ μΌλ¶€μ νƒμƒ‰ν‚¤ κ°’λ§μ„ μ μ§€ν•©λ‹λ‹¤. ν¬μ† μΈλ±μ¤μ—μ„ λ μ½”λ“λ¥Ό μ°Ύλ” κ²½μ° λ¨λ“  νƒμƒ‰ν‚¤κ°€ μ΅΄μ¬ν•μ§€ μ•κΈ° λ•λ¬Έμ— μ°Ύκ³ μ ν•λ” νƒμƒ‰ν‚¤ λ³΄λ‹¤ μ‘κ±°λ‚ κ°™μ€ κ°’ μ¤‘μ—μ„ κ°€μ¥ ν° ν‚¤κ°’μ„ μ°Ύμµλ‹λ‹¤.
<br><br>
ν¬μ† μΈλ±μ¤λ” μΈλ±μ¤ μ—”νΈλ¦¬μ μκ°€ μ μ–΄ μΈλ±μ¤λ¥Ό μ°Ύλ” λΉ„μ©μ€ μ κ² λ“λ” μ¥μ μ΄ μμ§€λ§ λ¨λ“  λ μ½”λ“μ— μΈλ±μ¤ μ—”νΈλ¦¬κ°€ λ§λ“¤μ–΄μ Έμμ§€ μ•μ•„ κ²€μƒ‰ λΉ„μ©μ΄ ν¬λ‹¤λ” λ‹¨μ μ΄ μμµλ‹λ‹¤.

![SparseIndex](\assets\images\DB\SparseIndex.png){: width="400" height="400"}

<br><br>


### π“„λ‹¤λ‹¨κ³„ μΈλ±μ¤
4KB ν¬κΈ°μ ν• λΈ”λ­μ— 100κ°μ μ—”νΈλ¦¬κ°€ μ‚½μ…λ  λ•, 100,000,000κ°μ λ μ½”λ“μ— λ€ν• μμ„ μΈλ±μ¤λ” 1,000,000κ°μ λΈ”λ­μ΄ ν•„μ”ν•κ³  4GB κ³µκ°„μ΄ ν•„μ”ν•©λ‹λ‹¤. μΈλ±μ¤κ°€ λ„λ¬΄λ‚ λ§μ€ κ³µκ°„μ„ μ°¨μ§€ν•κΈ° λ•λ¬Έμ— μΆ€ λ” ν¨μ¨μ μΈ μΈλ±μ¤ κ΄€λ¦¬λ¥Ό μ„ν•΄ λ‹¤λ‹¨κ³„ μΈλ±μ¤λ¥Ό λ§λ“¤μ—μµλ‹λ‹¤.

* **μΈλ±μ¤ ν¬κΈ°μ— λ”°λ¥Έ κ²€μƒ‰ μ„±λ¥**

  - μΈλ±μ¤ ν¬κΈ° < λ©”λ¨λ¦¬ ν¬κΈ°
  <br>
  λ””μ¤ν¬ I/Oμ΄ μ¤„μ–΄ νƒμƒ‰ μ‹κ°„ μ¶•μ†

  - μΈλ±μ¤ ν¬κΈ° > λ©”λ¨λ¦¬ ν¬κΈ°
  <br>
  μ €μ¥λ λΈ”λ­μ„ μ—¬λ¬λ² λ‚λ„μ–΄ μ½μ–΄μ•Ό ν•κΈ° λ•λ¬Έμ— λ””μ¤ν¬ I/O λΉ„μ©μ΄ μ¦κ°€ν•μ—¬ νƒμƒ‰ μ‹κ°„μ΄ μ¦κ°€

<br>

* λ‹¤λ‹¨κ³„ μΈλ±μ¤λ” λ‚΄λ¶€ μΈλ±μ¤μ™€ μ™Έλ¶€ μΈλ±μ¤λ΅ κµ¬μ„±

  - μ™Έλ¶€ μΈλ±μ¤λ¥Ό λ‚΄λ¶€ μΈλ±μ¤λ³΄λ‹¤ ν¬μ†ν• μΈλ±μ¤λ΅ κµ¬μ„±ν•μ—¬ μ—”νΈλ¦¬μ ν¬μΈν„°κ°€ λ‚΄λ¶€ μΈλ±μ¤ λΈ”λ­μ„ μ§€μΉ­
  - ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” λΈ”λ­μ„ μ¤μΊ”ν•μ—¬ μ›ν•λ” λ μ½”λ“ λ³΄λ‹¤ μ‘κ±°λ‚ κ°™μ€ νƒμƒ‰ν‚¤ κ°’ μ¤‘μ— κ°€μ¥ ν° κ°’μ„ κ°€μ§€λ” λ μ½”λ“λ¥Ό νƒμƒ‰

λ‚΄λ¶€ μΈλ±μ¤λ” 1,000,000κ°μ λΈ”λ­μ„ κ°–λ” λ°λ©΄ μ™Έλ¶€ μΈλ±μ¤λ” 100κ°μ λΈ”λ­λ§ μ‚¬μ©ν•μ—¬ μ‘μ€ ν¬κΈ°μ μ™Έλ¶€ μΈλ±μ¤λ΅ λ©”λ¨λ¦¬μ— μ μ¬ κ°€λ¥ν•©λ‹λ‹¤.

λ‚΄λ¶€ μΈλ±μ¤λ” λ°€μ§‘ μΈλ±μ¤λ΅, μ™Έλ¶€ μΈλ±μ¤λ” ν¬μ† μΈλ±μ¤λ΅ κµ¬μ„±λκ³  ν•­μƒ μ •λ ¬λ μμ„λ΅ μ΅΄μ¬ν•©λ‹λ‹¤.

![MultiLevelIndex](\assets\images\DB\MultiLevelIndex.png){: width="400" height="400"}

<br>

* λ‹¤λ‹¨κ³„ μΈλ±μ¤μ—μ„ λ μ½”λ“λ¥Ό μ½λ” μμ„
<br>
1. μ™Έλ¶€ μΈλ±μ¤μ—μ„ μ›ν•λ” μ—”νΈλ¦¬μ νƒμƒ‰ν‚¤ κ°’λ³΄λ‹¤ μ‘κ±°λ‚ κ°™μ€ νƒμƒ‰ν‚¤ κ°’ μ¤‘μ—μ„ κ°€μ¥ ν° κ°’μ„ κ°–λ” μΈλ±μ¤ μ—”νΈλ¦¬λ¥Ό μ°Ύλ”λ‹¤.
2. μ΄ μΈλ±μ¤ μ—”νΈλ¦¬μ ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” λΈ”λ­μ„ μ μ¬ν•λ‹¤.
3. λ‚΄λ¶€ μΈλ±μ¤μ— λ„λ‹¬ν•  λ•κΉμ§€ 1~2 κ³Όμ •μ„ λ°λ³µν•λ‹¤.
4. λ‚΄λ¶€ μΈλ±μ¤μ—μ„ μ΅°κ±΄κ³Ό μΌμΉν•λ” μΈλ±μ¤ μ—”νΈλ¦¬μ νƒμƒ‰ν‚¤λ¥Ό μ°Ύμ•„ λ°μ΄ν„° λΈ”λ­μ„ μ μ¬ν•λ‹¤.
5. ν•΄λ‹Ή λ μ½”λ“λ¥Ό μ‚¬μ©μμ—κ² λ°ν™ν•λ‹¤.

<br><br><br>

## π“B<sup>+</sup>-νΈλ¦¬ μΈλ±μ¤
B<sup>+</sup>-νΈλ¦¬ μΈλ±μ¤λ” μƒμ© DBMSμ—μ„ κ°€μ¥ λ„λ¦¬ μ‚¬μ©λλ” μμ„ μΈλ±μ¤μ μΌμΆ…μΌλ΅ κ²½λ΅μ κΈΈμ΄κ°€ κ°™μ€ λ†’μ΄ κ· ν• νΈλ¦¬ ν•νƒλ΅ κµ¬μ„±λμ–΄ κ²€μƒ‰μ μ†λ„λ¥Ό μΌμ •ν•κ² ν–¥μƒμ‹μΌ μ•μ •μ μΈ λ°μ΄ν„° κ²€μƒ‰μ΄ μ΄λ¤„μ§ μ μλ„λ΅ κ³ λ ¤ν• μΈλ±μ¤ κµ¬μ΅°μ…λ‹λ‹¤. μ΄μ§„ νƒμƒ‰ νΈλ¦¬μ™€ λ‹¤λ‹¨κ³„ μΈλ±μ¤λ¥Ό μ„μ–΄ λ†“μ€ κµ¬μ΅°μ…λ‹λ‹¤.

![BPTree](\assets\images\DB\BPTree.png){: width="400" height="400"}

<br>

### π“„B<sup>+</sup>-νΈλ¦¬ κµ¬μ΅°
λ£¨νΈ λ…Έλ“λ΅ λ¶€ν„° λ¨λ“  λ‹¨λ§ λ…Έλ“μ— μ΄λ¥΄λ” κ²½λ΅μ κΈΈμ΄κ°€ κ°™μ€ λ†’μ΄ κ· ν• νΈλ¦¬ κµ¬μ΅°μ…λ‹λ‹¤.

μμ„ μΈλ±μ¤λ” νμΌμ΄ μ»¤μ§μλ΅ λ°μ΄ν„° νƒμƒ‰μ— μμ–΄μ„ μ ‘κ·Ό λΉ„μ©μ΄ μ»¤μ§€λ” λ¬Έμ μ μ„ ν•΄κ²°ν•κΈ° μ„ν•΄ μ μ•λμ—μµλ‹λ‹¤.

* λ…Έλ“ κµ¬μ΅°
<br>
μΌλ°μ μΈ B<sup>+</sup>-νΈλ¦¬μ λ…Έλ“ κµ¬μ΅°λ” μ•„λ κ·Έλ¦Όκ³Ό κ°™μµλ‹λ‹¤. n - 1κ°μ νƒμƒ‰ν‚¤κ°’ K<sub>1</sub>, K<sub>2</sub>, ..., K<sub>n-1</sub>κ³Ό μμ‹ λ…Έλ“λ¥Ό κ°€λ¦¬ν‚¤λ” nκ°μ ν¬μΈν„° P<sub>1</sub>, P<sub>2</sub>, ..., P<sub>n</sub>μ„ ν¬ν•¨ν•©λ‹λ‹¤.
<br>
λ…Έλ“ μ•μ νƒμƒ‰ν‚¤ κ°’μ€ μ •λ ¬λ μμ„λ΅ μ μ§€λμ–΄ μκ³  ν• λ…Έλ“μ— μ €μ¥λλ” μµλ€ ν¬μΈν„° κ°μλ” B<sup>+</sup>-νΈλ¦¬μ μ°¨μμ— μν•΄ κ²°μ •λ©λ‹λ‹¤.

![BPTreeNode](\assets\images\DB\BPTreeNode.png){: width="400" height="400"}

<br>

* κµ¬μ„± μ”μ†
  1. μΈλ±μ¤ μ„ΈνΈ: λ£¨νΈλ…Έλ“μ™€ μ¤‘κ°„λ…Έλ“λ΅ κµ¬μ„±
  - λ‹¨λ§λ…Έλ“μ— μλ” νƒμƒ‰ν‚¤ κ°’μ„ μ‹ μ†ν•κ² μ°Ύμ•„κ° μ μλ„λ΅ κ²½λ΅λ¥Ό μ κ³µν•λ” λ©μ μΌλ΅ μ‚¬μ©λ©λ‹λ‹¤. [n/2] ~ n μ‚¬μ΄μ κ°μλ¥Ό μμ‹μΌλ΅ μ†μ ν•©λ‹λ‹¤.
  <br><br>
  2. μμ°¨ μ„ΈνΈ: λ‹¨λ§λ…Έλ“λ΅ κµ¬μ„±
  - λ¨λ“  λ…Έλ“κ°€ μμ°¨μ μΌλ΅ μ„λ΅ μ—°κ²°λμ–΄ μμµλ‹λ‹¤. λ‹¨λ§ λ…Έλ“λ” μ μ–΄λ„ $$ \lceil (n-1)/2 \rceil $$κ°μ νƒμƒ‰ν‚¤λ¥Ό ν¬ν•¨ν•©λ‹λ‹¤. νƒμƒ‰ν‚¤μ— λ€ν• μ‹¤μ  λ μ½”λ“λ¥Ό μ§€μΉ­ν•λ” ν¬μΈν„°λ¥Ό μ κ³µν•©λ‹λ‹¤.


![BPTreeSample](\assets\images\DB\BPTreeSample.png){: width="400" height="400"}
<br>
[http://www.kwangsiklee.com/2018/10/κ°λ…μ •λ¦¬-db-indexingκ³Ό-hashing/](http://www.kwangsiklee.com/2018/10/%EA%B0%9C%EB%85%90%EC%A0%95%EB%A6%AC-db-indexing%EA%B3%BC-hashing/)

<br><br>

### π“„B<sup>+</sup>-νΈλ¦¬ κ²€μƒ‰

λ‹¨κ³„ 1: ν„μ¬ νƒμƒ‰ λ€μƒμ„ μ΅°μ‚¬ν•μ—¬ νƒμƒ‰ν‚¤κ°’κ³Ό κ°™κ±°λ‚ ν° νƒμƒ‰ν‚¤ μ¤‘ κ°€μ¥ μ‘μ€ ν‚¤λ¥Ό μ°Ύμµλ‹λ‹¤.

λ‹¨κ³„ 2: μ•„λμ μ΅°κ±΄μ— λ”°λΌ λ‹¤μ λ…Έλ“λ¥Ό κ²°μ •ν•©λ‹λ‹¤.
  1. K = VμΌ κ²½μ° ν¬μΈν„° Pμ΄ κ°€λ¦¬ν‚¤λ” λ…Έλ“λ¥Ό NμΌλ΅ κ²°μ •
  2. K > VμΌ κ²½μ° Pκ°€ κ°€λ¦¬ν‚¤λ” λ…Έλ“λ¥Ό Nμ„ κ²°μ •
  3. Vλ³΄λ‹¤ ν° νƒμƒ‰ν‚¤κ°€ μ—†λ” κ²½μ°, λ…Έλ“ λ‚΄μ NULLμ΄ μ•„λ‹ λ§μ§€λ§‰ ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” λ…Έλ“λ¥Ό NμΌλ΅ κ²°μ •

λ‹¨κ³„ 3: Nμ΄ λ‹¨λ§ λ…Έλ“κ°€ μ•„λ‹λ©΄, λ‹¨κ³„1 λ¶€ν„° λ°λ³µν•©λ‹λ‹¤. Nμ΄ λ‹¨λ§ λ…Έλ“μΈ κ²½μ°, νƒμƒ‰ν‚¤κ°’ Kμ™€ Vκ°€ κ°™μ€ ν¬μΈν„° Pλ¥Ό λ°ν™ν•©λ‹λ‹¤.

<br><br>

### π“„B<sup>+</sup>-νΈλ¦¬ μ‚½μ…, μ‚­μ μ—°μ‚°
* λ μ½”λ“ μ‚½μ…, μ‚­μ  μ‹ B<sup>+</sup>-νΈλ¦¬ μμ •

  - λ μ½”λ“ μ‚½μ…: λ…Έλ“μ—μ„ μ μ§€ν•΄μ•Ό ν•  νƒμƒ‰ν‚¤μ™€ ν¬μΈν„° μ μ¦κ°€λ΅ μΈν•΄ λ…Έλ“λ¥Ό λ¶„ν• ν•΄μ•Ό ν•λ” κ²½μ°κ°€ λ°μƒ
  - λ μ½”λ“ μ‚­μ : λ…Έλ“μ—μ„ μ μ§€ν•΄μ•Ό ν•  νƒμƒ‰ν‚¤ κ°’κ³Ό ν¬μΈν„° μ κ°μ†λ΅ ν•μ  λ…Έλ“λ¥Ό μ¬λ¶„λ°° λλ” λ³‘ν•©ν•΄μ•Ό ν•λ” κ²½μ°κ°€ λ°μƒ
  - λ†’μ΄ κ· ν• μ μ§€: λ…Έλ“κ°€ λ¶„ν• λκ±°λ‚ λ³‘ν•©λλ©΄μ„ λ†’μ΄μ κ· ν•μ΄ λ§μ§€ μ•λ” κ²½μ°κ°€ λ°μƒ

<br>

* μ‚½μ…
<br>
κ²€μƒ‰κ³Ό κ°™μ€ λ°©λ²•μ„ μ‚¬μ©ν•μ—¬ μ‚½μ…λλ” λ μ½”λ“μ νƒμƒ‰ν‚¤ κ°’μ΄ μ†ν•  λ‹¨λ§ λ…Έλ“λ¥Ό νƒμƒ‰ν•©λ‹λ‹¤. ν•΄λ‹Ή λ‹¨λ§ λ…Έλ“μ— <νƒμƒ‰ν‚¤, ν¬μΈν„°> μμ„ μ‚½μ…ν•©λ‹λ‹¤. μ‚½μ… μ‹ νƒμƒ‰ν‚¤κ°€ μμ„λ¥Ό μ μ§€ν•λ„λ΅ ν•©λ‹λ‹¤.

μ•„λμ B<sup>+</sup>-νΈλ¦¬μ— COM24λ¥Ό μ‚½μ…ν•΄λ΄…μ‹λ‹¤.

![COMTree](\assets\images\DB\COMTree.png){: width="400" height="400"}

μ‚½μ… λ€μƒ λ…Έλ“μ— μ¶”κ°€μ μΈ μ €μ¥ν•  κ³µκ°„μ΄ λ¶€μ΅±ν•  κ²½μ° λ…Έλ“λ¥Ό λ¶„ν• ν•©λ‹λ‹¤.

  - COM12λ¥Ό ν•λ‚μ λ‹¨λ§ λ…Έλ“λ΅ κµ¬μ„±
  - COM24μ™€ COM31μ΄ ν•λ‚μ λ‹¨λ§ λ…Έλ“λ΅ κµ¬μ„±

![Split](\assets\images\DB\Split.png){: width="300" height="300"}

λ¶€λ¨ λ…Έλ“μ— νƒμƒ‰ν‚¤λ¥Ό μ΅°μ •ν•κ³  μ¶”κ°€λ λ…Έλ“μ— λ€ν• ν¬μΈν„°λ¥Ό μ‚½μ…ν•©λ‹λ‹¤. COM24λ¥Ό μ‚½μ…ν• λ¨μµμ…λ‹λ‹¤.

![BPTreeInsertion](\assets\images\DB\BPTreeInsertion.png){: width="400" height="400"}

<br>

* μ‚­μ 
<br>
μ‚­μ λ  λ μ½”λ“μ νƒμƒ‰ν‚¤λ¥Ό ν†µν•΄ μ‚­μ λ  νƒμƒ‰ν‚¤μ™€ ν¬μΈν„°λ¥Ό ν¬ν•¨ν• λ‹¨λ§ λ…Έλ“λ¥Ό νƒμƒ‰ν•©λ‹λ‹¤. κ°™μ€ νƒμƒ‰ν‚¤ κ°’μ„ κ°€μ§€λ” λ‹¤μ¤‘ μ—”νΈλ¦¬κ°€ μ΅΄μ¬ν•  κ²½μ°, μ‚­μ λ  λ μ½”λ“λ¥Ό κ°€λ¦¬ν‚¤λ” μ—”νΈλ¦¬λ¥Ό μ°Ύμ„ λ•κΉμ§€ νƒμƒ‰ ν›„ λ‹¨λ§ λ…Έλ“μ—μ„ μ κ±°ν•©λ‹λ‹¤. λ‹¨λ§ λ…Έλ“μ—μ„ μ κ±°λ μ—”νΈλ¦¬μ μ¤λ¥Έμ½μ— μλ” μ—”νΈλ¦¬λ“¤μ€ λΉ κ³µκ°„μ΄ μ—†λ„λ΅ μ™Όμ½μΌλ΅ μ΄λ™ν•©λ‹λ‹¤.

<br>

μ„μ B<sup>+</sup>-νΈλ¦¬μ— COM12λ¥Ό μ‚­μ ν•λ©΄ μ•„λμ™€ κ°™μµλ‹λ‹¤.

* νƒμƒ‰ν‚¤κ°€ μ¬λ¶„λ°°λλ” μ‚­μ 
<br>
COM12κ°€ μλ” λ‹¨λ§ λ…Έλ“λ¥Ό κ²€μƒ‰ν•κ³  νƒμƒ‰ν‚¤λ¥Ό μ‚­μ ν•©λ‹λ‹¤.
ν•΄λ‹Ή λ‹¨λ§ λ…Έλ“λ” μ‚­μ ν›„ νƒμƒ‰ν‚¤κ°€ μ΅΄μ¬ν•μ§€ μ•μµλ‹λ‹¤. $$ \lceil (n-1)/2 \rceil $$κ° λ³΄λ‹¤ νƒμƒ‰ν‚¤κ°€ μ μΌλ―€λ΅ λ‹¤λ¥Έ λ…Έλ“μ™€ λ³„λ„μ μ¬κµ¬μ΅°ν™” μ‘μ—…μ΄ ν•„μ”ν•©λ‹λ‹¤. COM12κ°€ μ €μ¥λ λ…Έλ“μ μ¤λ¥Έμ½ ν•μ  λ…Έλ“μ™€ ν‚¤λ¥Ό μ¬λ¶„λ°°ν•©λ‹λ‹¤.

![Delete](\assets\images\DB\Delete.png){: width="400" height="400"}

<br><br>